# 爬虫

通过编写程序**模拟**浏览器上网然后让其去互联网**抓取**数据的过程。通过url抓取整个页面，或者局部页面。

在法律中不被禁止，具有违法风险。

## 初始

### 使用场景中的分类
**通用爬虫**：</br>
搜索引擎抓取系统的重要组成部分。抓取互联网的整张页面数据，

**聚焦爬虫**：</br>
建立在通用爬虫的基础上。抓取页面中特定的局部内容。先爬取整长页面再爬取局部内容。

**增量式爬虫**：</br>
检测网站中数据更新的情况。只会爬取网站中最新更新的数据。

### 反爬机制
网站制定相应策略或者技术手段防止、阻止爬虫程序爬取网站数据。

### 反反爬
爬虫破解网站的反爬机制。

### robots.txt
一种反爬机制。</br>
君子协议，规定网站中哪些数据可以被爬取，哪些数据不可以被爬取。</br>
在某网站结尾/robots.txt即可查看该网站的协议。</br>

## HTTP和HTTPS
爬虫发送的是HTTP和HTTPS请求。</br>
HTTPS比HTTP更安全，但是性能低一点。HTTP明文传输，HTTPS是HTTP+SSL安全套接字层，使用SSL对传输内容进行了加密</br>
HTTP默认80端口，HTTPS默认443端口。</br>

## 爬虫关注的请求头和响应头

### 常见的请求头与响应头

#### 请求头
Content-Type 请求内容的类型。</br>
Host 域名。</br>
Connection HTTP和HTTPS建立在TCP/IP上，TCP/IP的socket长连接。</br>
Upgrade-Insecur-Requests 升级为HTTPS的请求。</br>
**User-Agent** 用户代理，浏览器、机器的信息</br>
**Referer** 页面跳转处，从哪个页面发起的请求；防盗链</br>
**Cookie** 用于保持权限。cookies是有时效的</br>
Authorization 用于表示HTTP协议中需要认证资源的认证信息。</br>

#### 响应头
HTTP的响应头如图所示，爬虫只关注Set-cookie字段，是服务器让我们设置保存的cookie，在下次发送请求时会自动带上